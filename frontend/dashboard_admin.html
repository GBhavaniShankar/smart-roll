<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - TechNova</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

</head>

<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>TechNova</h2>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#" class="active" data-page="dashboard">Dashboard</a></li>
                    <li><a href="#" data-page="users">User Management</a></li>
                    <li><a href="#" data-page="registration">Registration</a></li>
                </ul>
            </nav>
            <div class="sidebar-footer"><button id="logout-button" class="btn">Logout</button></div>
        </aside>

        <main class="main-content">
            <header class="header">
                <h1 id="header-title">Admin Dashboard</h1>
                <div class="user-profile">
                    Welcome, <span id="user-full-name">Admin</span>
                </div>
            </header>

            <div id="status-message" class="hidden" style="padding: 1rem; margin-bottom: 1rem; border-radius: 8px;">
            </div>

            <section id="page-dashboard" class="page-content">
                <div class="card">
                    <h3>Quick Actions</h3>
                    <p>Welcome to the Admin Dashboard. Select an action from the sidebar.</p>
                </div>
            </section>

            <section id="page-users" class="page-content hidden">
                <div class="card-grid">
                    <div class="card">
                        <h3>Add New Student</h3>
                        <form id="add-student-form" class="dashboard-form">
                            <div class="form-group"><label for="student-name">Full Name</label><input type="text"
                                    id="student-name" required></div>
                            <div class="form-group"><label for="student-email">Email</label><input type="email"
                                    id="student-email" required></div>
                            <div class="form-group"><label for="student-password">Password</label><input type="password"
                                    id="student-password" required></div>
                            <div class="form-group"><label for="student-roll">Roll Number</label><input type="text"
                                    id="student-roll" required></div>
                            <div class="form-group"><label for="student-stream">Stream</label>
                                <select id="student-stream">
                                    <option value="CSE">CSE</option>
                                    <option value="DSE">DSE</option>
                                    <option value="EE">EE</option>
                                </select>
                            </div>
                            <div class="form-group"><label for="student-cgpa">CGPA (Optional)</label><input
                                    type="number" id="student-cgpa" min="0" max="10" step="0.01"></div>
                            <div class="form-group"><label for="student-photo">Profile Photo</label><input type="file"
                                    id="student-photo" accept="image/jpeg,image/png" required></div>
                            <button type="submit" class="btn btn-primary">Add Student</button>
                        </form>
                    </div>

                    <div class="card">
                        <h3>Add New Teacher</h3>
                        <form id="add-teacher-form" class="dashboard-form">
                            <div class="form-group"><label for="teacher-name">Full Name</label><input type="text"
                                    id="teacher-name" required></div>
                            <div class="form-group"><label for="teacher-email">Email</label><input type="email"
                                    id="teacher-email" required></div>
                            <div class="form-group"><label for="teacher-password">Password</label><input type="password"
                                    id="teacher-password" required></div>
                            <div class="form-group"><label for="teacher-id">Employee ID</label><input type="text"
                                    id="teacher-id" required></div>
                            <div class="form-group"><label for="teacher-dept">Department</label>
                                <select id="teacher-dept">
                                    <option value="CSE">CSE</option>
                                    <option value="DSE">DSE</option>
                                    <option value="EE">EE</option>
                                </select>
                            </div>
                            <div class="form-group"><label for="teacher-spec">Specialization</label><input type="text"
                                    id="teacher-spec"></div>
                            <button type="submit" class="btn btn-primary">Add Teacher</button>
                        </form>
                    </div>
                </div>

                <div class="card" style="margin-top: 1.5rem;">
                    <h3>All Users</h3>
                    <div class="form-group"><label for="user-filter">Filter by Role:</label>
                        <select id="user-filter">
                            <option value="">All</option>
                            <option value="student">Student</option>
                            <option value="teacher">Teacher</option>
                            <option value="ta">TA</option>
                        </select>
                    </div>
                    <div id="user-list-container">
                    </div>
                </div>
            </section>

            <section id="page-registration" class="page-content hidden">
                <div class="card">
                    <h3>Course Registration Period</h3>
                    <p>Start a new registration period for a specific season and year.</p>
                    <form id="registration-form" class="dashboard-form">

                        <div class="form-group">
                            <label for="reg-season">Season</label>
                            <select id="reg-season" required>
                                <option value="Fall">Fall (Odd Semesters: 1, 3, 5, 7)</option>
                                <option value="Spring">Spring (Even Semesters: 2, 4, 6, 8)</option>
                                <option value="Summer">Summer (Optional)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="reg-year">Academic Year</label>
                            <input type="text" id="reg-year" placeholder="e.g., 2025-26" required>
                        </div>
                        <div class="form-group">
                            <label for="reg-start">Registration Start Date/Time</label>
                            <input type="datetime-local" id="reg-start" required>
                        </div>
                        <div class="form-group">
                            <label for="reg-end">Registration End Date/Time</label>
                            <input type="datetime-local" id="reg-end" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Start Registration</button>
                    </form>

                    <hr style="margin: 1.5rem 0;">

                    <div style="margin-bottom: 1.5rem;">
                        <h3>Advance Academic Semester</h3>
                        <p>This will move all students (sem 1-7) to the next semester (sem 2-8).
                            This is an irreversible action. Do this after all grades are final.</p>
                        <button id="advance-semester-btn" class="btn" style="background-color: #ffc107; color: #333;">
                            Advance All Students to Next Semester
                        </button>
                    </div>

                    <hr style="margin: 1.5rem 0;">

                    <h3>Stop Current Registration</h3>
                    <p>This will immediately stop all active registration periods.</p>
                    <button id="stop-registration-btn" class="btn" style="background-color: #dc3545; color: white;">Stop
                        All Active Periods</button>
                </div>
            </section>

        </main>
    </div>
    <script src="js/main.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/admin.js"></script>
</body>

</html>